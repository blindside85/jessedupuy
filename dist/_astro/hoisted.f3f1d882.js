import"./hoisted.f89294a1.js";((P,A)=>{const S=new URL(P.location.href),s=A.querySelector("canvas"),e=s.getContext("2d"),f=document.querySelector("input"),W=document.querySelector(".life-math"),v=1e3*60*60*24,D=v*365,w=new Date,$=p(w),y=52,c=77,r=s.width*.008,h=s.width*.002,m=r*3,M=r*2,T=m+(y+1)*(r*2),C=[{name:"childhood",years:[0,12]},{name:"adolescence",years:[13,19]},{name:"early adulthood",years:[20,34]},{name:"middle adulthood",years:[35,49]},{name:"mature adulthood",years:[50,79]},{name:"late adulthood",years:[80,100]}];let b=new URLSearchParams(S.search);b.has("bday")&&(f.value=b.get("bday"));let u=f.valueAsDate,g=Math.floor((w-u)/D),k=p(u);f.addEventListener("change",a=>{u=a.target.valueAsDate,g=Math.floor((w-u)/D),k=p(u),Y(),F(),L()});function p(a){const t=new Date(a.getFullYear(),0,1),l=(a-t)/v+t.getDay()+1;return Math.ceil(l/7)}function F(){b.set("bday",f.value),S.search=b.toString(),history.replaceState({},"durr",S)}function Y(){const a=y*g-k,t=y*c,o=(a/t*100).toPrecision(3);W.innerHTML=`You've lived ${a.toLocaleString()} weeks (${o}%) of the ${t.toLocaleString()} possible weeks of an average ${c}-year human life.`}function x(a,t,o,l,n,d){e.beginPath(),e.arc(a,t,o,0,2*Math.PI,!1),e.fillStyle=n,e.fill(),e.lineWidth=l,e.strokeStyle=d,e.stroke()}function O(a,t,o){e.fillStyle=t,e.font="0.8em Arial",e.textAlign="left",e.save(),e.translate(T,a-r),e.rotate(Math.PI/2),e.fillText(`${o}`,0,0),e.restore()}function R(a,t){e.fillStyle="currentcolor",e.font="0.8em Arial",e.textAlign="right",e.fillText(t,m,a+h*2)}function L(){e.clearRect(0,0,s.width,s.height),e.fillStyle="currentcolor",e.font="2em Arial";for(const[a,t]of C.entries()){if(t.years[0]>=c)return;const o=M+t.years[0]*(r*2.5),l=`hsl(${(a+1)*Math.ceil(Math.random()*Date.now()/1e5)}, 40%, 50%)`;O(o,l,t.name);for(let n=t.years[0];n<=t.years[1]&&n<=c;n++){const d=M+n*(r*2.5);for(let i=1;i<=y;i++)n===0&&i>k||n<g&&n>0||n===g&&i<$?x(m+i*(r*2),d,r-h,1,l,l):x(m+i*(r*2),d,r-h,1,"transparent",l);R(d,n)}}}s.height=(r*2+h*3)*c,Y(),L()})(window,document);
