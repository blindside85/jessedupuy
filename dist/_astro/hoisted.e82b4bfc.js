import"./hoisted.f89294a1.js";((P,A)=>{const S=new URL(P.location.href),s=A.querySelector("canvas"),e=s.getContext("2d"),u=document.querySelector("input"),W=document.querySelector(".life-math"),v=1e3*60*60*24,D=v*365,w=new Date,$=p(w),y=52,c=77,n=s.width*.008,h=s.width*.002,b=n*3,M=n*2,T=b+(y+1)*(n*2),C=[{name:"childhood",years:[0,12]},{name:"adolescence",years:[13,19]},{name:"early adulthood",years:[20,34]},{name:"middle adulthood",years:[35,49]},{name:"mature adulthood",years:[50,79]},{name:"late adulthood",years:[80,100]}];let m=new URLSearchParams(S.search);m.has("bday")&&(u.value=m.get("bday"));let d=u.valueAsDate,g=Math.floor((w-d)/D),k=p(d);u.addEventListener("change",a=>{d=a.target.valueAsDate,g=Math.floor((w-d)/D),k=p(d),Y(),F(),L()});function p(a){const t=new Date(a.getFullYear(),0,1),o=(a-t)/v+t.getDay()+1;return Math.ceil(o/7)}function F(){m.set("bday",u.value),S.search=m.toString(),history.replaceState({},"durr",S)}function Y(){const a=y*g-k,t=y*c,l=(a/t*100).toPrecision(3);W.innerHTML=`You've lived ${a.toLocaleString()} weeks (${l}%) of the ${t.toLocaleString()} possible weeks of an average ${c}-year human life.`}function x(a,t,l,o,r,f){e.beginPath(),e.arc(a,t,l,0,2*Math.PI,!1),e.fillStyle=r,e.fill(),e.lineWidth=o,e.strokeStyle=f,e.stroke()}function O(a,t,l){e.fillStyle=t,e.font="0.8em Arial",e.textAlign="left",e.save(),e.translate(T,a-n),e.rotate(Math.PI/2),e.fillText(`${l}`,0,0),e.restore()}function R(a,t){e.fillStyle="black",e.font="0.8em Arial",e.textAlign="right",e.fillText(t,b,a+h*2)}function L(){e.clearRect(0,0,s.width,s.height),e.fillStyle="black",e.font="2em Arial";for(const[a,t]of C.entries()){if(t.years[0]>=c)return;const l=M+t.years[0]*(n*2.5),o=`hsl(${(a+1)*Math.ceil(Math.random()*Date.now()/1e5)}, 40%, 50%)`;O(l,o,t.name);for(let r=t.years[0];r<=t.years[1]&&r<=c;r++){const f=M+r*(n*2.5);for(let i=1;i<=y;i++)r===0&&i>k||r<g&&r>0||r===g&&i<$?x(b+i*(n*2),f,n-h,1,o,o):x(b+i*(n*2),f,n-h,1,"transparent",o);R(f,r)}}}s.height=(n*2+h*3)*c,Y(),L()})(window,document);
